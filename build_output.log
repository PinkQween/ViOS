Loading previous configuration from /Users/skairipa/edk2/Conf/BuildEnv.sh
WORKSPACE: /Users/skairipa/edk2
EDK_TOOLS_PATH: /Users/skairipa/edk2/BaseTools
CONF_PATH: /Users/skairipa/edk2/Conf
Build environment: macOS-26.1-arm64-arm-64bit-Mach-O
SOURCE_DATE_EPOCH not set - using 1762819144
Build start time: 16:59:04, Nov.10 2025

WORKSPACE        = /Users/skairipa/edk2
EDK_TOOLS_PATH   = /Users/skairipa/edk2/BaseTools
CONF_PATH        = /Users/skairipa/edk2/Conf
PYTHON_COMMAND   = python3


Processing meta-data 
.Architecture(s)  = X64
Build target     = DEBUG
Toolchain        = GCC5

Active Platform          = /Users/skairipa/edk2/MdeModulePkg/MdeModulePkg.dsc
Active Module            = /Users/skairipa/edk2/MdeModulePkg/Application/ViOS64BitDev/ViOS.inf
 done!
Generating code . done!
Generating makefile . done!
Building ... /Users/skairipa/edk2/MdePkg/Library/UefiLib/UefiLib.inf [X64]
Building ... /Users/skairipa/edk2/MdePkg/Library/UefiApplicationEntryPoint/UefiApplicationEntryPoint.inf [X64]
Building ... /Users/skairipa/edk2/MdePkg/Library/UefiDevicePathLib/UefiDevicePathLib.inf [X64]
make: Nothing to be done for `tbuild'.
make: Nothing to be done for `tbuild'.
Building ... /Users/skairipa/edk2/MdePkg/Library/UefiRuntimeServicesTableLib/UefiRuntimeServicesTableLib.inf [X64]
make: Nothing to be done for `tbuild'.
Building ... /Users/skairipa/edk2/MdePkg/Library/StackCheckLibNull/StackCheckLibNull.inf [X64]
make: Nothing to be done for `tbuild'.
Building ... /Users/skairipa/edk2/MdePkg/Library/UefiMemoryAllocationLib/UefiMemoryAllocationLib.inf [X64]
make: Nothing to be done for `tbuild'.
Building ... /Users/skairipa/edk2/MdePkg/Library/UefiBootServicesTableLib/UefiBootServicesTableLib.inf [X64]
make: Nothing to be done for `tbuild'.
Building ... /Users/skairipa/edk2/MdePkg/Library/UefiDebugLibStdErr/UefiDebugLibStdErr.inf [X64]
make: Nothing to be done for `tbuild'.
Building ... /Users/skairipa/edk2/MdePkg/Library/BasePrintLib/BasePrintLib.inf [X64]
make: Nothing to be done for `tbuild'.
Building ... /Users/skairipa/edk2/MdePkg/Library/BaseDebugPrintErrorLevelLib/BaseDebugPrintErrorLevelLib.inf [X64]
make: Nothing to be done for `tbuild'.
Building ... /Users/skairipa/edk2/MdePkg/Library/BasePcdLibNull/BasePcdLibNull.inf [X64]
make: Nothing to be done for `tbuild'.
Building ... /Users/skairipa/edk2/MdePkg/Library/BaseMemoryLib/BaseMemoryLib.inf [X64]
make: Nothing to be done for `tbuild'.
Building ... /Users/skairipa/edk2/MdePkg/Library/BaseLib/BaseLib.inf [X64]
make: Nothing to be done for `tbuild'.
Building ... /Users/skairipa/edk2/MdePkg/Library/RegisterFilterLibNull/RegisterFilterLibNull.inf [X64]
make: Nothing to be done for `tbuild'.
make: Nothing to be done for `tbuild'.
Building ... /Users/skairipa/edk2/MdeModulePkg/Application/ViOS64BitDev/ViOS.inf [X64]
make: Nothing to be done for `tbuild'.

- Done -
Build end time: 16:59:06, Nov.10 2025
Build total time: 00:00:02

Building kernel...
Cleaning in ./assets/shell...
rm -rf ./build/shell.o
rm ./shell.elf
Cleaning in ./assets/simple...
rm ./simple.bin
rm: ./simple.bin: No such file or directory
make[1]: *** [clean] Error 1
Cleaning in ./assets/blank...
rm -rf build
mkdir build
Cleaning in ./assets/stdlib...
rm -rf ./build/start.asm.o ./build/start.o ./build/vios.asm.o ./build/vios.o ./build/stdlib.o ./build/stdio.o ./build/string.o ./build/memory.o
rm ./stdlib.elf
Cleaning up any mounted disk images...
Looking for ViOS disk images to detach...
Detaching disk0...
Detaching disk1...
Detaching disk12...
Detaching disk13...
Detaching disk2...
Detaching disk3...
Detaching disk8...
Detaching disk9...
Mount cleanup completed.
rm -rf ./bin/boot.bin ./bin/boot_with_size.bin ./bin/kernel.bin ./bin/os.bin ./build/kernelfull.o ./build/kernelfull-elf.o ./build/kernel.asm.o ./build/kernel.o ./build/string/string.o ./build/memory/memory.o ./build/memory/heap/kheap.o ./build/memory/heap/heap.o ./build/memory/paging/paging.asm.o ./build/memory/paging/paging.o ./build/memory/heap/multiheap.o ./build/io/io.asm.o ./build/idt/idt.o ./build/idt/idt.asm.o ./build/task/process.o ./build/task/task.asm.o ./build/task/task.o ./build/fs/file.o ./build/fs/fat/fat16.o ./build/fs/pparser.o ./build/disk/disk.o ./build/disk/streamer.o ./build/task/tss.asm.o ./build/gdt/gdt.asm.o ./build/gdt/gdt.o ./build/keyboard/keyboard.o ./build/keyboard/classic.o ./build/isr80h/heap.o ./build/isr80h/io.o ./build/loader/formats/elf.o ./build/loader/formats/elfloader.o ./build/isr80h/isr80h.o ./build/isr80h/misc.o ./build/isr80h/process.o ./build/idt/irq.o ./build/disk/gpt.o ./build/lib/vector/vector.o ./build/graphics/graphics.o ./build/graphics/image/image.o ./build/graphics/image/bmp.o ./build/graphics/font.o ./bin/ ./build/ ./src/fonts
mkdir -p ./bin ./build
mkdir -p build/
nasm -f elf64 -g src/kernel.asm -o build/kernel.asm.o
mkdir -p build/
x86_64-elf-gcc -I./src -std=gnu99 -Wall -Werror -O0 -g -ffreestanding -fno-builtin -nostdlib -nostartfiles -nodefaultlibs -falign-jumps -falign-functions -falign-labels -falign-loops -fstrength-reduce -fomit-frame-pointer -finline-functions -Wno-unused-function -Wno-unused-label -Wno-cpp -Wno-unused-parameter -I./src -std=gnu99 -c src/kernel.c -o build/kernel.o
mkdir -p build/string/
x86_64-elf-gcc -I./src -std=gnu99 -Wall -Werror -O0 -g -ffreestanding -fno-builtin -nostdlib -nostartfiles -nodefaultlibs -falign-jumps -falign-functions -falign-labels -falign-loops -fstrength-reduce -fomit-frame-pointer -finline-functions -Wno-unused-function -Wno-unused-label -Wno-cpp -Wno-unused-parameter -I./src -std=gnu99 -c src/string/string.c -o build/string/string.o
mkdir -p build/memory/
x86_64-elf-gcc -I./src -std=gnu99 -Wall -Werror -O0 -g -ffreestanding -fno-builtin -nostdlib -nostartfiles -nodefaultlibs -falign-jumps -falign-functions -falign-labels -falign-loops -fstrength-reduce -fomit-frame-pointer -finline-functions -Wno-unused-function -Wno-unused-label -Wno-cpp -Wno-unused-parameter -I./src -std=gnu99 -c src/memory/memory.c -o build/memory/memory.o
mkdir -p build/memory/heap/
x86_64-elf-gcc -I./src -std=gnu99 -Wall -Werror -O0 -g -ffreestanding -fno-builtin -nostdlib -nostartfiles -nodefaultlibs -falign-jumps -falign-functions -falign-labels -falign-loops -fstrength-reduce -fomit-frame-pointer -finline-functions -Wno-unused-function -Wno-unused-label -Wno-cpp -Wno-unused-parameter -I./src -std=gnu99 -c src/memory/heap/kheap.c -o build/memory/heap/kheap.o
mkdir -p build/memory/heap/
x86_64-elf-gcc -I./src -std=gnu99 -Wall -Werror -O0 -g -ffreestanding -fno-builtin -nostdlib -nostartfiles -nodefaultlibs -falign-jumps -falign-functions -falign-labels -falign-loops -fstrength-reduce -fomit-frame-pointer -finline-functions -Wno-unused-function -Wno-unused-label -Wno-cpp -Wno-unused-parameter -I./src -std=gnu99 -c src/memory/heap/heap.c -o build/memory/heap/heap.o
mkdir -p build/memory/paging/
nasm -f elf64 -g src/memory/paging/paging.asm -o build/memory/paging/paging.asm.o
mkdir -p build/memory/paging/
x86_64-elf-gcc -I./src -std=gnu99 -Wall -Werror -O0 -g -ffreestanding -fno-builtin -nostdlib -nostartfiles -nodefaultlibs -falign-jumps -falign-functions -falign-labels -falign-loops -fstrength-reduce -fomit-frame-pointer -finline-functions -Wno-unused-function -Wno-unused-label -Wno-cpp -Wno-unused-parameter -I./src -std=gnu99 -c src/memory/paging/paging.c -o build/memory/paging/paging.o
mkdir -p build/memory/heap/
x86_64-elf-gcc -I./src -std=gnu99 -Wall -Werror -O0 -g -ffreestanding -fno-builtin -nostdlib -nostartfiles -nodefaultlibs -falign-jumps -falign-functions -falign-labels -falign-loops -fstrength-reduce -fomit-frame-pointer -finline-functions -Wno-unused-function -Wno-unused-label -Wno-cpp -Wno-unused-parameter -I./src -std=gnu99 -c src/memory/heap/multiheap.c -o build/memory/heap/multiheap.o
mkdir -p build/io/
nasm -f elf64 -g src/io/io.asm -o build/io/io.asm.o
mkdir -p build/idt/
x86_64-elf-gcc -I./src -std=gnu99 -Wall -Werror -O0 -g -ffreestanding -fno-builtin -nostdlib -nostartfiles -nodefaultlibs -falign-jumps -falign-functions -falign-labels -falign-loops -fstrength-reduce -fomit-frame-pointer -finline-functions -Wno-unused-function -Wno-unused-label -Wno-cpp -Wno-unused-parameter -I./src -std=gnu99 -c src/idt/idt.c -o build/idt/idt.o
mkdir -p build/idt/
nasm -f elf64 -g src/idt/idt.asm -o build/idt/idt.asm.o
mkdir -p build/task/
x86_64-elf-gcc -I./src -std=gnu99 -Wall -Werror -O0 -g -ffreestanding -fno-builtin -nostdlib -nostartfiles -nodefaultlibs -falign-jumps -falign-functions -falign-labels -falign-loops -fstrength-reduce -fomit-frame-pointer -finline-functions -Wno-unused-function -Wno-unused-label -Wno-cpp -Wno-unused-parameter -I./src -std=gnu99 -c src/task/process.c -o build/task/process.o
mkdir -p build/task/
nasm -f elf64 -g src/task/task.asm -o build/task/task.asm.o
mkdir -p build/task/
x86_64-elf-gcc -I./src -std=gnu99 -Wall -Werror -O0 -g -ffreestanding -fno-builtin -nostdlib -nostartfiles -nodefaultlibs -falign-jumps -falign-functions -falign-labels -falign-loops -fstrength-reduce -fomit-frame-pointer -finline-functions -Wno-unused-function -Wno-unused-label -Wno-cpp -Wno-unused-parameter -I./src -std=gnu99 -c src/task/task.c -o build/task/task.o
mkdir -p build/fs/
x86_64-elf-gcc -I./src -std=gnu99 -Wall -Werror -O0 -g -ffreestanding -fno-builtin -nostdlib -nostartfiles -nodefaultlibs -falign-jumps -falign-functions -falign-labels -falign-loops -fstrength-reduce -fomit-frame-pointer -finline-functions -Wno-unused-function -Wno-unused-label -Wno-cpp -Wno-unused-parameter -I./src -std=gnu99 -c src/fs/file.c -o build/fs/file.o
mkdir -p build/fs/fat/
x86_64-elf-gcc -I./src -std=gnu99 -Wall -Werror -O0 -g -ffreestanding -fno-builtin -nostdlib -nostartfiles -nodefaultlibs -falign-jumps -falign-functions -falign-labels -falign-loops -fstrength-reduce -fomit-frame-pointer -finline-functions -Wno-unused-function -Wno-unused-label -Wno-cpp -Wno-unused-parameter -I./src -std=gnu99 -c src/fs/fat/fat16.c -o build/fs/fat/fat16.o
mkdir -p build/fs/
x86_64-elf-gcc -I./src -std=gnu99 -Wall -Werror -O0 -g -ffreestanding -fno-builtin -nostdlib -nostartfiles -nodefaultlibs -falign-jumps -falign-functions -falign-labels -falign-loops -fstrength-reduce -fomit-frame-pointer -finline-functions -Wno-unused-function -Wno-unused-label -Wno-cpp -Wno-unused-parameter -I./src -std=gnu99 -c src/fs/pparser.c -o build/fs/pparser.o
mkdir -p build/disk/
x86_64-elf-gcc -I./src -std=gnu99 -Wall -Werror -O0 -g -ffreestanding -fno-builtin -nostdlib -nostartfiles -nodefaultlibs -falign-jumps -falign-functions -falign-labels -falign-loops -fstrength-reduce -fomit-frame-pointer -finline-functions -Wno-unused-function -Wno-unused-label -Wno-cpp -Wno-unused-parameter -I./src -std=gnu99 -c src/disk/disk.c -o build/disk/disk.o
mkdir -p build/disk/
x86_64-elf-gcc -I./src -std=gnu99 -Wall -Werror -O0 -g -ffreestanding -fno-builtin -nostdlib -nostartfiles -nodefaultlibs -falign-jumps -falign-functions -falign-labels -falign-loops -fstrength-reduce -fomit-frame-pointer -finline-functions -Wno-unused-function -Wno-unused-label -Wno-cpp -Wno-unused-parameter -I./src -std=gnu99 -c src/disk/streamer.c -o build/disk/streamer.o
mkdir -p build/task/
nasm -f elf64 -g src/task/tss.asm -o build/task/tss.asm.o
mkdir -p build/gdt/
nasm -f elf64 -g src/gdt/gdt.asm -o build/gdt/gdt.asm.o
mkdir -p build/gdt/
x86_64-elf-gcc -I./src -std=gnu99 -Wall -Werror -O0 -g -ffreestanding -fno-builtin -nostdlib -nostartfiles -nodefaultlibs -falign-jumps -falign-functions -falign-labels -falign-loops -fstrength-reduce -fomit-frame-pointer -finline-functions -Wno-unused-function -Wno-unused-label -Wno-cpp -Wno-unused-parameter -I./src -std=gnu99 -c src/gdt/gdt.c -o build/gdt/gdt.o
mkdir -p build/keyboard/
x86_64-elf-gcc -I./src -std=gnu99 -Wall -Werror -O0 -g -ffreestanding -fno-builtin -nostdlib -nostartfiles -nodefaultlibs -falign-jumps -falign-functions -falign-labels -falign-loops -fstrength-reduce -fomit-frame-pointer -finline-functions -Wno-unused-function -Wno-unused-label -Wno-cpp -Wno-unused-parameter -I./src -std=gnu99 -c src/keyboard/keyboard.c -o build/keyboard/keyboard.o
mkdir -p build/keyboard/
x86_64-elf-gcc -I./src -std=gnu99 -Wall -Werror -O0 -g -ffreestanding -fno-builtin -nostdlib -nostartfiles -nodefaultlibs -falign-jumps -falign-functions -falign-labels -falign-loops -fstrength-reduce -fomit-frame-pointer -finline-functions -Wno-unused-function -Wno-unused-label -Wno-cpp -Wno-unused-parameter -I./src -std=gnu99 -c src/keyboard/classic.c -o build/keyboard/classic.o
mkdir -p build/isr80h/
x86_64-elf-gcc -I./src -std=gnu99 -Wall -Werror -O0 -g -ffreestanding -fno-builtin -nostdlib -nostartfiles -nodefaultlibs -falign-jumps -falign-functions -falign-labels -falign-loops -fstrength-reduce -fomit-frame-pointer -finline-functions -Wno-unused-function -Wno-unused-label -Wno-cpp -Wno-unused-parameter -I./src -std=gnu99 -c src/isr80h/heap.c -o build/isr80h/heap.o
mkdir -p build/isr80h/
x86_64-elf-gcc -I./src -std=gnu99 -Wall -Werror -O0 -g -ffreestanding -fno-builtin -nostdlib -nostartfiles -nodefaultlibs -falign-jumps -falign-functions -falign-labels -falign-loops -fstrength-reduce -fomit-frame-pointer -finline-functions -Wno-unused-function -Wno-unused-label -Wno-cpp -Wno-unused-parameter -I./src -std=gnu99 -c src/isr80h/io.c -o build/isr80h/io.o
mkdir -p build/loader/formats/
x86_64-elf-gcc -I./src -std=gnu99 -Wall -Werror -O0 -g -ffreestanding -fno-builtin -nostdlib -nostartfiles -nodefaultlibs -falign-jumps -falign-functions -falign-labels -falign-loops -fstrength-reduce -fomit-frame-pointer -finline-functions -Wno-unused-function -Wno-unused-label -Wno-cpp -Wno-unused-parameter -I./src -std=gnu99 -c src/loader/formats/elf.c -o build/loader/formats/elf.o
mkdir -p build/loader/formats/
x86_64-elf-gcc -I./src -std=gnu99 -Wall -Werror -O0 -g -ffreestanding -fno-builtin -nostdlib -nostartfiles -nodefaultlibs -falign-jumps -falign-functions -falign-labels -falign-loops -fstrength-reduce -fomit-frame-pointer -finline-functions -Wno-unused-function -Wno-unused-label -Wno-cpp -Wno-unused-parameter -I./src -std=gnu99 -c src/loader/formats/elfloader.c -o build/loader/formats/elfloader.o
mkdir -p build/isr80h/
x86_64-elf-gcc -I./src -std=gnu99 -Wall -Werror -O0 -g -ffreestanding -fno-builtin -nostdlib -nostartfiles -nodefaultlibs -falign-jumps -falign-functions -falign-labels -falign-loops -fstrength-reduce -fomit-frame-pointer -finline-functions -Wno-unused-function -Wno-unused-label -Wno-cpp -Wno-unused-parameter -I./src -std=gnu99 -c src/isr80h/isr80h.c -o build/isr80h/isr80h.o
mkdir -p build/isr80h/
x86_64-elf-gcc -I./src -std=gnu99 -Wall -Werror -O0 -g -ffreestanding -fno-builtin -nostdlib -nostartfiles -nodefaultlibs -falign-jumps -falign-functions -falign-labels -falign-loops -fstrength-reduce -fomit-frame-pointer -finline-functions -Wno-unused-function -Wno-unused-label -Wno-cpp -Wno-unused-parameter -I./src -std=gnu99 -c src/isr80h/misc.c -o build/isr80h/misc.o
mkdir -p build/isr80h/
x86_64-elf-gcc -I./src -std=gnu99 -Wall -Werror -O0 -g -ffreestanding -fno-builtin -nostdlib -nostartfiles -nodefaultlibs -falign-jumps -falign-functions -falign-labels -falign-loops -fstrength-reduce -fomit-frame-pointer -finline-functions -Wno-unused-function -Wno-unused-label -Wno-cpp -Wno-unused-parameter -I./src -std=gnu99 -c src/isr80h/process.c -o build/isr80h/process.o
mkdir -p build/idt/
x86_64-elf-gcc -I./src -std=gnu99 -Wall -Werror -O0 -g -ffreestanding -fno-builtin -nostdlib -nostartfiles -nodefaultlibs -falign-jumps -falign-functions -falign-labels -falign-loops -fstrength-reduce -fomit-frame-pointer -finline-functions -Wno-unused-function -Wno-unused-label -Wno-cpp -Wno-unused-parameter -I./src -std=gnu99 -c src/idt/irq.c -o build/idt/irq.o
mkdir -p build/disk/
x86_64-elf-gcc -I./src -std=gnu99 -Wall -Werror -O0 -g -ffreestanding -fno-builtin -nostdlib -nostartfiles -nodefaultlibs -falign-jumps -falign-functions -falign-labels -falign-loops -fstrength-reduce -fomit-frame-pointer -finline-functions -Wno-unused-function -Wno-unused-label -Wno-cpp -Wno-unused-parameter -I./src -std=gnu99 -c src/disk/gpt.c -o build/disk/gpt.o
mkdir -p build/lib/vector/
x86_64-elf-gcc -I./src -std=gnu99 -Wall -Werror -O0 -g -ffreestanding -fno-builtin -nostdlib -nostartfiles -nodefaultlibs -falign-jumps -falign-functions -falign-labels -falign-loops -fstrength-reduce -fomit-frame-pointer -finline-functions -Wno-unused-function -Wno-unused-label -Wno-cpp -Wno-unused-parameter -I./src -std=gnu99 -c src/lib/vector/vector.c -o build/lib/vector/vector.o
mkdir -p build/graphics/
x86_64-elf-gcc -I./src -std=gnu99 -Wall -Werror -O0 -g -ffreestanding -fno-builtin -nostdlib -nostartfiles -nodefaultlibs -falign-jumps -falign-functions -falign-labels -falign-loops -fstrength-reduce -fomit-frame-pointer -finline-functions -Wno-unused-function -Wno-unused-label -Wno-cpp -Wno-unused-parameter -I./src -std=gnu99 -c src/graphics/graphics.c -o build/graphics/graphics.o
mkdir -p build/graphics/image/
x86_64-elf-gcc -I./src -std=gnu99 -Wall -Werror -O0 -g -ffreestanding -fno-builtin -nostdlib -nostartfiles -nodefaultlibs -falign-jumps -falign-functions -falign-labels -falign-loops -fstrength-reduce -fomit-frame-pointer -finline-functions -Wno-unused-function -Wno-unused-label -Wno-cpp -Wno-unused-parameter -I./src -std=gnu99 -c src/graphics/image/image.c -o build/graphics/image/image.o
mkdir -p build/graphics/image/
x86_64-elf-gcc -I./src -std=gnu99 -Wall -Werror -O0 -g -ffreestanding -fno-builtin -nostdlib -nostartfiles -nodefaultlibs -falign-jumps -falign-functions -falign-labels -falign-loops -fstrength-reduce -fomit-frame-pointer -finline-functions -Wno-unused-function -Wno-unused-label -Wno-cpp -Wno-unused-parameter -I./src -std=gnu99 -c src/graphics/image/bmp.c -o build/graphics/image/bmp.o
mkdir -p build/graphics/
x86_64-elf-gcc -I./src -std=gnu99 -Wall -Werror -O0 -g -ffreestanding -fno-builtin -nostdlib -nostartfiles -nodefaultlibs -falign-jumps -falign-functions -falign-labels -falign-loops -fstrength-reduce -fomit-frame-pointer -finline-functions -Wno-unused-function -Wno-unused-label -Wno-cpp -Wno-unused-parameter -I./src -std=gnu99 -c src/graphics/font.c -o build/graphics/font.o
Building kernel ELF...
x86_64-elf-gcc -T ./src/linker.ld.elf -o ./bin/kernel.elf -ffreestanding -O0 -nostdlib -g ./build/kernel.asm.o ./build/kernel.o ./build/string/string.o ./build/memory/memory.o ./build/memory/heap/kheap.o ./build/memory/heap/heap.o ./build/memory/paging/paging.asm.o ./build/memory/paging/paging.o ./build/memory/heap/multiheap.o ./build/io/io.asm.o ./build/idt/idt.o ./build/idt/idt.asm.o ./build/task/process.o ./build/task/task.asm.o ./build/task/task.o ./build/fs/file.o ./build/fs/fat/fat16.o ./build/fs/pparser.o ./build/disk/disk.o ./build/disk/streamer.o ./build/task/tss.asm.o ./build/gdt/gdt.asm.o ./build/gdt/gdt.o ./build/keyboard/keyboard.o ./build/keyboard/classic.o ./build/isr80h/heap.o ./build/isr80h/io.o ./build/loader/formats/elf.o ./build/loader/formats/elfloader.o ./build/isr80h/isr80h.o ./build/isr80h/misc.o ./build/isr80h/process.o ./build/idt/irq.o ./build/disk/gpt.o ./build/lib/vector/vector.o ./build/graphics/graphics.o ./build/graphics/image/image.o ./build/graphics/image/bmp.o ./build/graphics/font.o
Building kernel binary...
x86_64-elf-gcc -T ./src/linker.ld -o ./bin/kernel.bin -ffreestanding -O0 -nostdlib ./build/kernel.asm.o ./build/kernel.o ./build/string/string.o ./build/memory/memory.o ./build/memory/heap/kheap.o ./build/memory/heap/heap.o ./build/memory/paging/paging.asm.o ./build/memory/paging/paging.o ./build/memory/heap/multiheap.o ./build/io/io.asm.o ./build/idt/idt.o ./build/idt/idt.asm.o ./build/task/process.o ./build/task/task.asm.o ./build/task/task.o ./build/fs/file.o ./build/fs/fat/fat16.o ./build/fs/pparser.o ./build/disk/disk.o ./build/disk/streamer.o ./build/task/tss.asm.o ./build/gdt/gdt.asm.o ./build/gdt/gdt.o ./build/keyboard/keyboard.o ./build/keyboard/classic.o ./build/isr80h/heap.o ./build/isr80h/io.o ./build/loader/formats/elf.o ./build/loader/formats/elfloader.o ./build/isr80h/isr80h.o ./build/isr80h/misc.o ./build/isr80h/process.o ./build/idt/irq.o ./build/disk/gpt.o ./build/lib/vector/vector.o ./build/graphics/graphics.o ./build/graphics/image/image.o ./build/graphics/image/bmp.o ./build/graphics/font.o
Building stdlib first...
nasm -f elf64 ./src/start.asm -o ./build/start.asm.o
x86_64-elf-gcc -I./src -g -ffreestanding -falign-jumps -falign-functions -falign-labels -falign-loops -fstrength-reduce -fomit-frame-pointer -finline-functions -Wno-unused-function -fno-builtin -Werror -Wno-unused-label -Wno-cpp -Wno-unused-parameter -nostdlib -nostartfiles -nodefaultlibs -Wall -O0 -Iinc -std=gnu99 -c ./src/start.c -o ./build/start.o
nasm -f elf64 ./src/vios.asm -o ./build/vios.asm.o
x86_64-elf-gcc -I./src -g -ffreestanding -falign-jumps -falign-functions -falign-labels -falign-loops -fstrength-reduce -fomit-frame-pointer -finline-functions -Wno-unused-function -fno-builtin -Werror -Wno-unused-label -Wno-cpp -Wno-unused-parameter -nostdlib -nostartfiles -nodefaultlibs -Wall -O0 -Iinc -std=gnu99 -c ./src/vios.c -o ./build/vios.o
x86_64-elf-gcc -I./src -g -ffreestanding -falign-jumps -falign-functions -falign-labels -falign-loops -fstrength-reduce -fomit-frame-pointer -finline-functions -Wno-unused-function -fno-builtin -Werror -Wno-unused-label -Wno-cpp -Wno-unused-parameter -nostdlib -nostartfiles -nodefaultlibs -Wall -O0 -Iinc -std=gnu99 -c ./src/stdlib.c -o ./build/stdlib.o
x86_64-elf-gcc -I./src -g -ffreestanding -falign-jumps -falign-functions -falign-labels -falign-loops -fstrength-reduce -fomit-frame-pointer -finline-functions -Wno-unused-function -fno-builtin -Werror -Wno-unused-label -Wno-cpp -Wno-unused-parameter -nostdlib -nostartfiles -nodefaultlibs -Wall -O0 -Iinc -std=gnu99 -c ./src/stdio.c -o ./build/stdio.o
x86_64-elf-gcc -I./src -g -ffreestanding -falign-jumps -falign-functions -falign-labels -falign-loops -fstrength-reduce -fomit-frame-pointer -finline-functions -Wno-unused-function -fno-builtin -Werror -Wno-unused-label -Wno-cpp -Wno-unused-parameter -nostdlib -nostartfiles -nodefaultlibs -Wall -O0 -Iinc -std=gnu99 -c ./src/string.c -o ./build/string.o
x86_64-elf-gcc -I./src -g -ffreestanding -falign-jumps -falign-functions -falign-labels -falign-loops -fstrength-reduce -fomit-frame-pointer -finline-functions -Wno-unused-function -fno-builtin -Werror -Wno-unused-label -Wno-cpp -Wno-unused-parameter -nostdlib -nostartfiles -nodefaultlibs -Wall -O0 -Iinc -std=gnu99 -c ./src/memory.c -o ./build/memory.o
x86_64-elf-ld -m elf_x86_64 -relocatable ./build/start.asm.o ./build/start.o ./build/vios.asm.o ./build/vios.o ./build/stdlib.o ./build/stdio.o ./build/string.o ./build/memory.o -o ./stdlib.elf
Building in ./assets/shell...
x86_64-elf-gcc -I../stdlib/src -I./ -g -ffreestanding -falign-jumps -falign-functions -falign-labels -falign-loops -fstrength-reduce -fomit-frame-pointer -finline-functions -Wno-unused-function -fno-builtin -Werror -Wno-unused-label -Wno-cpp -Wno-unused-parameter -nostdlib -nostartfiles -nodefaultlibs -Wall -O0 -Iinc -std=gnu99 -c ./src/shell.c -o ./build/shell.o
x86_64-elf-gcc -g -T ./linker.ld -o ./shell.elf -ffreestanding -O0 -nostdlib -fpic -g -z max-page-size=0x200000 ./build/shell.o ../stdlib/stdlib.elf
/opt/homebrew/opt/x86_64-elf-binutils/bin/x86_64-elf-ld: warning: ./shell.elf has a LOAD segment with RWX permissions
Building in ./assets/simple...
nasm -f bin ./src/simple.asm -o ./build/simple.bin
Building in ./assets/blank...
x86_64-elf-gcc -I../stdlib/src -I./ -g -ffreestanding -falign-jumps -falign-functions -falign-labels -falign-loops -fstrength-reduce -fomit-frame-pointer -finline-functions -Wno-unused-function -fno-builtin -Werror -Wno-unused-label -Wno-cpp -Wno-unused-parameter -nostdlib -nostartfiles -nodefaultlibs -Wall -O0 -Iinc -std=gnu99 -c ./blank.c -o ./build/blank.o
x86_64-elf-gcc -g -T ./linker.ld -o ./blank.elf -ffreestanding -O0 -nostdlib -fpic -g -z max-page-size=0x200000 ./build/blank.o ../stdlib/stdlib.elf
/opt/homebrew/opt/x86_64-elf-binutils/bin/x86_64-elf-ld: warning: ./blank.elf has a LOAD segment with RWX permissions
Build complete!
700+0 records in
700+0 records out
734003200 bytes transferred in 0.289127 secs (2538687843 bytes/sec)
GPT structure created
Attaching disk image to format partitions...
/dev/disk4          	GUID_partition_scheme          	
/dev/disk4s1        	EFI                            	
/dev/disk4s2        	EFI                            	
Base disk: /dev/disk4
Partition 1: /dev/disk4s1
Partition 2: /dev/disk4s2
Forcing partition table rescan...
Unmount of all volumes on disk4 was successful
/dev/disk4 (disk image):
   #:                       TYPE NAME                    SIZE       IDENTIFIER
   0:      GUID_partition_scheme                        +734.0 MB   disk4
   1:                        EFI                         367.0 MB   disk4s1
   2:                        EFI                         365.9 MB   disk4s2
Verifying with gpt:
     2048   716800      1  GPT part - C12A7328-F81F-11D2-BA4B-00A0C93EC93B
   718848   714719      2  GPT part - C12A7328-F81F-11D2-BA4B-00A0C93EC93B
Checking available partitions...
brw-r-----  1 skairipa  staff  0x1000014 Nov 10 16:59 /dev/disk4
brw-r-----  1 skairipa  staff  0x1000015 Nov 10 16:59 /dev/disk4s1
brw-r-----  1 skairipa  staff  0x1000016 Nov 10 16:59 /dev/disk4s2
Formatting partition 1...
warning: /dev/disk4s1 is not a character device
512 bytes per physical sector
/dev/disk4s1: 716416 sectors in 44776 FAT16 clusters (8192 bytes/cluster)
bps=512 spc=16 res=1 nft=2 rde=512 mid=0xf8 spf=175 spt=32 hds=54 hid=2048 drv=0x80 bsec=716800
Formatting partition 2...
warning: /dev/disk4s2 is not a character device
512 bytes per physical sector
/dev/disk4s2: 714336 sectors in 44646 FAT16 clusters (8192 bytes/cluster)
bps=512 spc=16 res=1 nft=2 rde=512 mid=0xf8 spf=175 spt=32 hds=54 hid=718848 drv=0x80 bsec=714719
Mounting partition 1...
Partition 1 mounted at: ./mnt
Copied bootloader to ./mnt/EFI/Boot/BOOTX64.efi
Mounting partition 2 for kernel filesystem...
✓ Partition 2 mounted successfully at ./mnt
Contents before copy:
total 32
drwxrwxrwx@  1 skairipa  staff  16384 Nov 10 16:59 .
drwxr-xr-x  15 skairipa  staff    480 Nov 10 16:59 ..
Found source file: ./ViOS64Bit/data/images/bkground.bmp
-rw-rw-r--@ 1 skairipa  staff   972K Jul 10 14:35 ./ViOS64Bit/data/images/bkground.bmp
./ViOS64Bit/data/images/bkground.bmp -> ./mnt/bkground.bmp
✓ BMP copied successfully
Contents after copy:
-rwxrwxrwx@ 1 skairipa  staff   972K Nov 10 16:59 ./mnt/bkground.bmp
Found source file: ./ViOS64Bit/data/images/fonts/sysfont.bmp
-rw-rw-r--@ 1 skairipa  staff   192K Jul 10 14:35 ./ViOS64Bit/data/images/fonts/sysfont.bmp
./ViOS64Bit/data/images/fonts/sysfont.bmp -> ./mnt/sysfont.bmp
✓ sysfont.bmp copied successfully
Contents after copy:
-rwxrwxrwx@ 1 skairipa  staff   192K Nov 10 16:59 ./mnt/sysfont.bmp
Found source file: ./ViOS64Bit/assets/shell/shell.elf
./ViOS64Bit/assets/shell/shell.elf -> ./mnt/shell.elf
✓ shell.elf copied successfully
Final contents of partition 2:
total 6560
drwxrwxrwx@  1 skairipa  staff    16K Nov 10 16:59 .
-rwxrwxrwx   1 skairipa  staff   4.0K Nov 10 16:59 ._bkground.bmp
-rwxrwxrwx   1 skairipa  staff   4.0K Nov 10 16:59 ._sysfont.bmp
drwxr-xr-x  15 skairipa  staff   480B Nov 10 16:59 ..
-rwxrwxrwx@  1 skairipa  staff   972K Nov 10 16:59 bkground.bmp
-rwxrwxrwx   1 skairipa  staff   2.0M Nov 10 16:59 shell.elf
-rwxrwxrwx@  1 skairipa  staff   192K Nov 10 16:59 sysfont.bmp
Syncing filesystem...
Unmounting partition 2...
✓ Partition 2 unmounted successfully
Detaching disk...
"disk4" ejected.
Build completed
